{% extends 'base.html' %}

{% block title %}Book Results Page{% endblock %}

{% block head %}{% endblock %}


{% block body %}

<div> 
<form action="/book_filters">
    Primary Character's Race
        <select id="race" name="race">
            <option value="American Indian or Alaska Native">
                American Indian or Alaska Native</option>
            <option value="Asian">Asian</option>
            <option value="Black">
                Black or African American</option>
            <option value="Hispanic, Latinx, or Spanish Origin">
                Hispanic, Latinx, or Spanish Origin</option>
            <option value="Middle Eastern or North African">
                Middle Eastern or North African</option>
            <option value="Multiracial">Multiracial</option>
            <option value="White">White</option>
            <option value="Native Hawaiian or Other Pacific Islander">
                Native Hawaiian or Other Pacific Islander</option>
            <option value="ALL RACES">ALL RACES</option>
        </select> 

  
    Primary Character's Gender
        <select id="gender" name="gender">
            <option value="Cisgender Female">Cisgender Female</option>
            <option value="Cisgender Male">Cisgender Male</option>
            <option value="Gender Fluid">Gender Fluid</option>
            <option value="Gender Non-Conforming">Gender Non-Conforming</option>
            <option value="Non-Binary">Non-Binary</option>
            <option value="Transgender Female">Transgender Female</option>
            <option value="Transgender Male">Transgender Male</option>
            <option value="ALL GENDERS">ALL GENDERS</option>
        </select>
   

    <button id="findBooksButton" type="submit">Find Books</button>
</form>
</div> 

<!-- This <input type="hidden"> defines a hidden input field. I am using this 
    in conjunction with JS so that when the user submits the form, their 
    selections stay visible and the form doesn't reset to it's default 
    unselected state. -->
<input type="hidden" id="race_filter" value= "{{ race_filter }}">
<input type="hidden" id="gender_filter" value= "{{ gender_filter }}">

    <br>
    <h1>Books That Meet the Criteria</h1>

        {% if book_list|length == 0 %}

            <div>There arenâ€™t any books that met your criteria. Please try 
                another combination!</div>
            

        {% else %}

            {% for book in book_list %}
                <div>
                    <h2>{{ book.title }}</h2>

                    <p>{{ book.overview }}</p>

                    <img src="{{ book.cover_path }}">

                    <div> 
                        <a href="/book_results_page/{{ book.book_id }}">Learn More</a>
                    </div>
                    <br>
                    
                </div>
            {% endfor %}
        
        {% endif %}

    <!-- The following script tag connects buttons.js to allow me to use 
        documentQuerySelector with the IDs in the hidden script tags above-->
    <script src="/static/book_results_page.js"></script>

{% endblock %}